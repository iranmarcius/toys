<?xml version="1.0" encoding="utf-8"?>

<project name="BuildBase" xmlns:artifact="antlib:org.apache.maven.artifact.ant">
	<property environment="env"/>
	
	<target name="init">
		<artifact:pom id="pom" file="pom.xml"/>
		<property name="artifact.path" value="${env.HOMEDRIVE}\\${env.HOMEPATH}\\.m2\\repository"/>
	</target>
	
	<target name="jar" depends="init">
		<delete file="target/${pom.artifactId}-${pom.version}.jar"/>
		<artifact:mvn>
			<arg value="jar:jar"/>
		</artifact:mvn>
	</target>

	<target name="install" depends="jar">
		<delete dir="${artifact.path}" includes="**/${pom.artifactId}/${pom.version}/**/*"/>
		<artifact:install file="target/${pom.artifactId}-${pom.version}.jar">
			<pom refid="pom"/>
		</artifact:install>
	</target>

</project>